{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/utilites/git/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Tech Notes"}},"markdownRemark":{"id":"39d1d02c-0636-550c-8b78-744f8a693a9c","excerpt":"Configuration Configuration file placed in  or . Configuration ares:  - global configuration, which will take effect on all local repositories  - configuration…","html":"<h2>Configuration</h2>\n<p>Configuration file placed in <code class=\"language-text\">~/git/config</code> or <code class=\"language-text\">~/.gitconfig</code>.</p>\n<p>Configuration ares:</p>\n<ul>\n<li><code class=\"language-text\">--gloabal</code> - global configuration, which will take effect on all local repositories</li>\n<li><code class=\"language-text\">--local</code> - configuration, relevant only to the current GIT repository</li>\n</ul>\n<p><strong>Setting up user:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> config --<span class=\"token operator\">&lt;</span>local<span class=\"token operator\">|</span>global<span class=\"token operator\">></span> user.email <span class=\"token operator\">&lt;</span>email<span class=\"token operator\">></span></code></pre></div>\n<p><strong>Setting up default editor:</strong></p>\n<p>Setting for default editor, which will be opened for any git text manipulations, e.g. on commit:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> config --<span class=\"token operator\">&lt;</span>local<span class=\"token operator\">|</span>global<span class=\"token operator\">></span> core.editor nvim</code></pre></div>\n<p><strong>Configuring remote:</strong></p>\n<p>To configure remote source for GIT repository run:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> remote <span class=\"token function\">add</span> <span class=\"token operator\">&lt;</span>remote-name<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>remote-repo-url<span class=\"token operator\">></span></code></pre></div>\n<p>To check what is url set for some remote by it’s name:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> remote show origin</code></pre></div>\n<p>Set git repository origin url:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> remote set-url</code></pre></div>\n<h2>Cloning</h2>\n<p>If you don’t want to clone the entire repo it is possible to make a shallow clone.\nFor example to clone only first level of folders:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone --depth <span class=\"token number\">1</span></code></pre></div>\n<p>If you want to clone a sub-directory, use <code class=\"language-text\">git sparse-checkout</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone --filter<span class=\"token operator\">=</span>blob:none --sparse <span class=\"token operator\">&lt;</span>repo-url<span class=\"token operator\">></span>\n<span class=\"token function\">git</span> sparse-checkout <span class=\"token function\">add</span> <span class=\"token operator\">&lt;</span>folder-path<span class=\"token operator\">></span></code></pre></div>\n<h2>Committing</h2>\n<h3>Commit Options</h3>\n<p><strong>Verbose mode:</strong></p>\n<p><code class=\"language-text\">git commit -v</code> allows to see all the changes, made on commit in opened default editor.</p>\n<p><em>This option is incompatible with <code class=\"language-text\">-m</code> option</em></p>\n<p><strong>Commit with specified message:</strong></p>\n<p><code class=\"language-text\">git commit -m \"&lt;commit message>\"</code> - create a commit with specified message without opening a default editor</p>\n<p><strong>Commit all:</strong></p>\n<p><code class=\"language-text\">git commit -a</code> - stage all modified files and commit them.\n<em>This will not stage new files</em></p>\n<p><strong>Add new changes to last commit:</strong></p>\n<p>If you have some changes in the repository and want add them to the last commit, use <code class=\"language-text\">-a</code> flag.\n<code class=\"language-text\">git commit --amend</code>\n<em>Note, that this command will require commit message change</em></p>\n<p>To not change last commit’s message add <code class=\"language-text\">--no-edit</code> flag</p>\n<p><code class=\"language-text\">amend</code> also allows to change author of commit: <code class=\"language-text\">git commit --amend --author=\"Author Name &lt;email>\"</code></p>\n<h2>Branches</h2>\n<p>In <code class=\"language-text\">git</code> branch is a pointer to a specific commit.</p>\n<p>To list existing local branches: <code class=\"language-text\">git branch</code>. <code class=\"language-text\">*</code> sign shows current branch.\nTo list all existing locals and remote branches run <code class=\"language-text\">git branch -a</code>.\n<code class=\"language-text\">git branch -r</code> displays only remote branches.</p>\n<p><strong>Removing branches:</strong></p>\n<p>To remove <strong>local branch</strong> you need to switch to any other, not removing, branch.\nAnd then run command: <code class=\"language-text\">git branch -d &lt;branch-name></code> or <code class=\"language-text\">git branch --delete &lt;branch-name></code>.</p>\n<p><em>Important to note: to delete branch, it must not contain unmerged changes or unpushed commits.</em></p>\n<p>To force remove of a branch with blocking issues, you can use <code class=\"language-text\">--delete --force</code> flag or similar <code class=\"language-text\">-D</code>.</p>\n<p>To remove <strong>remote branch</strong> run: <code class=\"language-text\">git push &lt;remote> -d &lt;branch-name></code>.</p>\n<h2>Checkout</h2>\n<p><code class=\"language-text\">git checkout</code> allows to switch between branches, commits or files.</p>\n<p><strong>Switch branches:</strong></p>\n<p>Switch branches: <code class=\"language-text\">git checkout &lt;branch-name></code> - switch to given branch by it’s name.</p>\n<p>To create a new branch use <code class=\"language-text\">-b</code> flag: <code class=\"language-text\">git checkout -b &lt;new-branch-name></code>.</p>\n<p><code class=\"language-text\">-f</code> or <code class=\"language-text\">--force</code> flag allows to change branches if there are conflicting changes exist.</p>\n<p><strong>Checkout on particular commit:</strong></p>\n<p><code class=\"language-text\">git checkout &lt;commit-id></code> switches to some commit by it’s given commit id.</p>\n<p><strong>Go to previous branch:</strong></p>\n<p>To switch to previously active branch run:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> checkout -</code></pre></div>\n<p><strong>Resetting changes:</strong></p>\n<p>To reset uncommitted changes you can use: <code class=\"language-text\">git checkout -- &lt;file-name></code> to reset specific file\nand <code class=\"language-text\">git checkout .</code> to reset all uncommitted changes.</p>\n<h2>Merge Branches</h2>\n<p><strong>Merge with automatic accept of all incoming changes:</strong></p>\n<p>If you need to merge some branch into yours and you know that there will be merge conflicts, but\nyou want to accept all incoming changes automatically:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> merge <span class=\"token operator\">&lt;</span>branch name<span class=\"token operator\">></span> --strategy-option <span class=\"token operator\">&lt;</span>strategy option value<span class=\"token operator\">></span></code></pre></div>\n<p>where:</p>\n<ul>\n<li><code class=\"language-text\">branch name</code> is name of the branch you want to merge into current</li>\n<li><code class=\"language-text\">strategy option value</code> - <code class=\"language-text\">ours</code> to ovveride all conflicts with values from current branch and\n<code class=\"language-text\">theirs</code> to override all conflicts with values from incoming branch</li>\n</ul>\n<h2>Rebase</h2>\n<p>To rewrite a bunch of commits locally:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> rebase -i <span class=\"token operator\">&lt;</span>commit hash<span class=\"token operator\">></span> <span class=\"token comment\"># where the commit hash is the one before all the changes you want to make</span></code></pre></div>\n<p>This will open up an interactive prompt where you can select which commits to keep, squash, or delete.\nYou can also change commit messages here. This is very useful when cleaning up typo or linting commits, for example.</p>\n<p>Abort rebase until it is not completed:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> rebase --abort</code></pre></div>\n<h2>Stash</h2>\n<p><code class=\"language-text\">stash</code> in <code class=\"language-text\">git</code> is a special area, where some uncommitted changes may be temporary stored.\nStashed changes are available to all branches in the repository.</p>\n<p>To add current uncommitted changes to stash run: <code class=\"language-text\">git stash save \"&lt;message>\"</code></p>\n<p>To display available data in stash: <code class=\"language-text\">git stash list</code>.\nTo check changes inside of a particular stash: <code class=\"language-text\">git stash show &lt;stash-name></code>.\n<code class=\"language-text\">-p</code> flag enables display of diff-like changes.</p>\n<p>To apply stash data and also keep this data in stash: <code class=\"language-text\">git stash apply &lt;stash-name></code>\nTo apply stash and remove this data from stash: <code class=\"language-text\">git stash pop &lt;stash-name></code></p>\n<p>To remove stash: <code class=\"language-text\">git stash drop &lt;stash-name></code> and to clear all stashes <code class=\"language-text\">git stash clear</code>.</p>\n<p>Adding the <code class=\"language-text\">-u</code> option (or <code class=\"language-text\">--include-untracked</code>) tells <code class=\"language-text\">git stash</code>to also stash your untracked files.</p>\n<p><strong>Creating new branch from stash:</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> stash branch <span class=\"token operator\">&lt;</span>new-branch-name<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>stash-name<span class=\"token operator\">></span></code></pre></div>\n<h2>Log</h2>\n<p>To display list of commits there is a <code class=\"language-text\">git log</code> command, which opens view on last commits.\nIt is possible to use basic Vim commands to navigate this view if you need to see some earlier commits.</p>\n<p><strong>Display specific commit:</strong></p>\n<p>To show information about some particular commit there is a <code class=\"language-text\">git log &lt;commit id></code> command.\nIt will display list of commits starting and earlier than specified.</p>\n<p><strong>Simple view:</strong></p>\n<p>By default <code class=\"language-text\">log</code> displays all commit information including <code class=\"language-text\">SHA</code>, author, date and message.\nIf you don’t need all the additional information, displayed by default, you can use <code class=\"language-text\">git log --oneline</code>.\nIt will display shortened commit id and commit message.</p>\n<p><strong>Commit graph:</strong></p>\n<p>Sometimes it is useful to see which branches became sources for our commit history. To see it use <code class=\"language-text\">git log --graph</code>.</p>\n<p><strong>Commit statistics:</strong></p>\n<p><code class=\"language-text\">git log --stat</code> will display, which files were modified in the commit, how many lines were modified.</p>\n<p><code class=\"language-text\">git log --patch</code> of equivalent <code class=\"language-text\">git log -p</code> will display changes, that were made in the commits.</p>\n<p><strong>Get history of specific fragment:</strong></p>\n<p>To display history of some fragment of particular file:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> log -L<span class=\"token operator\">&lt;</span>start<span class=\"token operator\">></span>,<span class=\"token operator\">&lt;</span>end<span class=\"token operator\">></span>:<span class=\"token operator\">&lt;</span>file<span class=\"token operator\">></span></code></pre></div>\n<p>where <code class=\"language-text\">&lt;start></code> is a line number to begin inspect and <code class=\"language-text\">&lt;end></code> is a line number to finish inspect.</p>\n<p><code class=\"language-text\">&lt;end></code> - may be also an offset in form of <code class=\"language-text\">+&lt;number></code>, e.g:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> log -L355:+10,~/repo/file</code></pre></div>\n<h2>Removing Changes Or Reverting</h2>\n<p>To uncommit and un-stage changes but leave these files in the working directory:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> reset <span class=\"token operator\">&lt;</span>commit-sha<span class=\"token operator\">></span></code></pre></div>\n<p>This will reset your local directory to match the latest commit and discard un-staged changes:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> reset --hard HEAD</code></pre></div>\n<p>Reset particular file:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> checkout -- <span class=\"token operator\">&lt;</span>filename<span class=\"token operator\">></span></code></pre></div>\n<p>Undo last commit and rewrite history:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> reset --hard HEAD~1</code></pre></div>\n<p>Reset last several commits:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> reset --hard HEAD~n        <span class=\"token comment\"># n is the last n commits</span>\n<span class=\"token function\">git</span> reset --hard <span class=\"token operator\">&lt;</span>commit-sha<span class=\"token operator\">></span>  <span class=\"token comment\"># or to a specific commit</span></code></pre></div>\n<p>There is an important distinction between <code class=\"language-text\">soft</code>, <code class=\"language-text\">mixed</code>, and <code class=\"language-text\">hard</code> resets. Basically:</p>\n<ul>\n<li>\n<p><code class=\"language-text\">--soft</code>: Uncommit changes but leave those changes staged</p>\n</li>\n<li>\n<p><code class=\"language-text\">--mixed</code> (the default): Uncommit and un-stage changes, but changes are left in the working directory</p>\n</li>\n<li>\n<p><code class=\"language-text\">--hard</code>: Uncommit, un-stage, and delete changes</p>\n</li>\n</ul>\n<h3>Clean</h3>\n<p><code class=\"language-text\">git clean</code> command designed to find and remove all not committed and not staged changes.</p>\n<p><strong>Attributes:</strong></p>\n<ul>\n<li><code class=\"language-text\">-d</code> - specifies to remove untracked directories;</li>\n<li><code class=\"language-text\">-n</code> / <code class=\"language-text\">--dry-run</code> - <code class=\"language-text\">clean</code> will only list files it is going to delete but not really remove them;</li>\n<li><code class=\"language-text\">-f</code> / <code class=\"language-text\">--force</code> - specifies that untracked files will be removed(with no way to restore);</li>\n</ul>\n<p><strong>Examples:</strong></p>\n<p>To list files which will be deleted:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clean -n -d</code></pre></div>\n<p>To actually remove these files:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clean -f -d</code></pre></div>\n<h2>Showing Difference</h2>\n<p>Show difference:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> <span class=\"token function\">diff</span> --staged <span class=\"token comment\"># for staged changes</span>\n<span class=\"token function\">git</span> <span class=\"token function\">diff</span> <span class=\"token comment\"># for un-staged changes</span>\n<span class=\"token function\">git</span> <span class=\"token function\">diff</span> branch1<span class=\"token punctuation\">..</span>branch2 <span class=\"token comment\"># difference between two branches</span></code></pre></div>\n<h2>References</h2>\n<ul>\n<li><a href=\"https://www.freecodecamp.org/news/git-log-command/\">Git log command</a></li>\n<li><a href=\"https://www.freecodecamp.org/news/git-commit-command-explained/\">Git Commit Command Explained</a></li>\n<li><a href=\"https://www.freecodecamp.org/news/git-stash-explained/\">Git Stash Explained: How to Temporarily Store Local Changes in Git</a></li>\n<li><a href=\"https://www.freecodecamp.org/news/git-delete-branch-how-to-remove-a-local-or-remote-branch/\">Git Delete Branch – How to Remove a Local or Remote Branch</a></li>\n</ul>","frontmatter":{"title":"Git Cheatsheet","date":"March 13, 2022","description":"Basic GIT usage"}},"previous":{"fields":{"slug":"/rust/destructuring/"},"frontmatter":{"title":"Rust Object Destructuring"}},"next":{"fields":{"slug":"/rust/functions/"},"frontmatter":{"title":"Rust - Functions"}}},"pageContext":{"id":"39d1d02c-0636-550c-8b78-744f8a693a9c","previousPostId":"0c480cc4-511a-5cd0-9076-07772af0ea11","nextPostId":"1184b19b-5203-5820-b48c-0d89fa0a45e5"}},
    "staticQueryHashes": ["2063783301","2841359383","3274528899"]}