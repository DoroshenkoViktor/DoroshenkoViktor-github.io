<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Rust Package Management</title><link rel="icon" href="/images/favicon.ico"/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/3bdcb86edbe4b2cb.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3bdcb86edbe4b2cb.css" data-n-g=""/><link rel="preload" href="/_next/static/css/e5ce53dde55ec42b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e5ce53dde55ec42b.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-69bfa6990bb9e155.js" defer=""></script><script src="/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/_next/static/chunks/main-f4ae3437c92c1efc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-85d7488a393e293e.js" defer=""></script><script src="/_next/static/chunks/369-aaa550419eab31e8.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5B...noteKey%5D-da4eaccc7e295342.js" defer=""></script><script src="/_next/static/2GsJwR2wqvvTbW19wzU3s/_buildManifest.js" defer=""></script><script src="/_next/static/2GsJwR2wqvvTbW19wzU3s/_ssgManifest.js" defer=""></script><script src="/_next/static/2GsJwR2wqvvTbW19wzU3s/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><section class="Layout_centeredSection__nmU9U"><div><a href="/"><header class="Header_mainHeader__VLamk Header_mainHeaderM__OlGKU"><div class="Header_mainLogoImg__eX6Vr"><img src="/images/profile-pic.png" alt="logo"/></div><h1 class="Header_blogName__4JblC">Tech Notes</h1></header></a></div><h1 class="NoteFormattedContent_noteTitle__Oi9sD">Rust Package Management</h1><article class="NoteFormattedContent_note__8cHeE">
<h2>Cargo</h2>
<h2>Profiles</h2>
<p><code>release profiles</code> are predefined and customizable profiles with different configurations that allow a programmer to have more control over various options for compiling code.</p>
<ul>
  <li><code>dev</code> profile <code>cargo</code> uses when you run <code>cargo build</code></li>
  <li><code>release</code> profile <code>cargo</code> uses when you run <code>cargo build --release</code></li>
</ul>
<p>
  Cargo has default settings for each of the profiles that apply when there aren’t any <code>[profile.*]</code> sections in the project’s <code>Cargo.toml</code> file.
  By adding <code>[profile.*]</code> sections for any profile you want to customize, you can override any subset of the default settings.
</p>
<pre><code class="hljs language-toml"><span class="hljs-section">[profile.dev]</span>
<span class="hljs-attr">opt-level</span> = <span class="hljs-number">0</span>

<span class="hljs-section">[profile.release]</span>
<span class="hljs-attr">opt-level</span> = <span class="hljs-number">3</span>
</code></pre>
<p>The <code>opt-level</code> setting controls the number of optimizations Rust will apply to your code, with a range of 0 to 3.</p>
<h2>Publishing</h2>
<p>
  To publish modules into <code>crates.io</code> need at first to register on it with <code>github</code> account.
  On the second step need to generate new API token. It is possible to do on <code>https://crates.io/settings/tokens</code>
  page. Pressing <code>New Token</code> button, system will ask for a name of a new token and after will
  return freshly generated token.
</p>
<p>
  To use it run <code>cargo login &#x3C;api-token></code> in the terminal or CI. Then token will be stored inside of
  <code>~/.cargo/credentials</code>.
</p>
<p>
  To be eligible for publish on <code>crates.io</code>, package should have a unique name, have a description
  and <a href="https://spdx.org/licenses/">license</a>.
  It can be specified inside of <code>Cargo.toml</code> file:
</p>
<pre><code class="hljs language-toml"><span class="hljs-section">[package]</span>
<span class="hljs-attr">name</span> = <span class="hljs-string">"guessing_game"</span>
<span class="hljs-attr">version</span> = <span class="hljs-string">"0.1.0"</span>
<span class="hljs-attr">edition</span> = <span class="hljs-string">"2022"</span>
<span class="hljs-attr">description</span> = <span class="hljs-string">"some package description"</span>
<span class="hljs-attr">license</span> = <span class="hljs-string">"MIT"</span>
</code></pre>
<p>
  After all metadata is set correctly run <code>cargo publish</code>. This will publish the package to the
  <code>crates.io</code>.
</p>
<p>
  Published packages could not be edited or removed. This is made to ensure that all code, using this
  package will be functional in future. But it is pussible to mark package as depricated by
  <code>cargo yank --vers 1.0.1</code> so future projects will not use it. <code>cargo yank --vers 1.0.1 --undo</code> will
  do the opposite.
</p>
<p>
  There is no limitation for publishing new version though. To do that required to change <code>version</code>
  in <code>Cargo.toml</code> file.
</p>
</article></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"noteKey":["rust","Rust Infrastructure","cargo"],"note":{"title":"Rust Package Management","date":"2022-03-03","content":"\n\u003ch2\u003eCargo\u003c/h2\u003e\n\u003ch2\u003eProfiles\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003erelease profiles\u003c/code\u003e are predefined and customizable profiles with different configurations that allow a programmer to have more control over various options for compiling code.\u003c/p\u003e\n\u003cul\u003e\n  \u003cli\u003e\u003ccode\u003edev\u003c/code\u003e profile \u003ccode\u003ecargo\u003c/code\u003e uses when you run \u003ccode\u003ecargo build\u003c/code\u003e\u003c/li\u003e\n  \u003cli\u003e\u003ccode\u003erelease\u003c/code\u003e profile \u003ccode\u003ecargo\u003c/code\u003e uses when you run \u003ccode\u003ecargo build --release\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\n  Cargo has default settings for each of the profiles that apply when there aren’t any \u003ccode\u003e[profile.*]\u003c/code\u003e sections in the project’s \u003ccode\u003eCargo.toml\u003c/code\u003e file.\n  By adding \u003ccode\u003e[profile.*]\u003c/code\u003e sections for any profile you want to customize, you can override any subset of the default settings.\n\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-toml\"\u003e\u003cspan class=\"hljs-section\"\u003e[profile.dev]\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eopt-level\u003c/span\u003e = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e\n\n\u003cspan class=\"hljs-section\"\u003e[profile.release]\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eopt-level\u003c/span\u003e = \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe \u003ccode\u003eopt-level\u003c/code\u003e setting controls the number of optimizations Rust will apply to your code, with a range of 0 to 3.\u003c/p\u003e\n\u003ch2\u003ePublishing\u003c/h2\u003e\n\u003cp\u003e\n  To publish modules into \u003ccode\u003ecrates.io\u003c/code\u003e need at first to register on it with \u003ccode\u003egithub\u003c/code\u003e account.\n  On the second step need to generate new API token. It is possible to do on \u003ccode\u003ehttps://crates.io/settings/tokens\u003c/code\u003e\n  page. Pressing \u003ccode\u003eNew Token\u003c/code\u003e button, system will ask for a name of a new token and after will\n  return freshly generated token.\n\u003c/p\u003e\n\u003cp\u003e\n  To use it run \u003ccode\u003ecargo login \u0026#x3C;api-token\u003e\u003c/code\u003e in the terminal or CI. Then token will be stored inside of\n  \u003ccode\u003e~/.cargo/credentials\u003c/code\u003e.\n\u003c/p\u003e\n\u003cp\u003e\n  To be eligible for publish on \u003ccode\u003ecrates.io\u003c/code\u003e, package should have a unique name, have a description\n  and \u003ca href=\"https://spdx.org/licenses/\"\u003elicense\u003c/a\u003e.\n  It can be specified inside of \u003ccode\u003eCargo.toml\u003c/code\u003e file:\n\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-toml\"\u003e\u003cspan class=\"hljs-section\"\u003e[package]\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\"guessing_game\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eversion\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\"0.1.0\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003eedition\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\"2022\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003edescription\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\"some package description\"\u003c/span\u003e\n\u003cspan class=\"hljs-attr\"\u003elicense\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\"MIT\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\n  After all metadata is set correctly run \u003ccode\u003ecargo publish\u003c/code\u003e. This will publish the package to the\n  \u003ccode\u003ecrates.io\u003c/code\u003e.\n\u003c/p\u003e\n\u003cp\u003e\n  Published packages could not be edited or removed. This is made to ensure that all code, using this\n  package will be functional in future. But it is pussible to mark package as depricated by\n  \u003ccode\u003ecargo yank --vers 1.0.1\u003c/code\u003e so future projects will not use it. \u003ccode\u003ecargo yank --vers 1.0.1 --undo\u003c/code\u003e will\n  do the opposite.\n\u003c/p\u003e\n\u003cp\u003e\n  There is no limitation for publishing new version though. To do that required to change \u003ccode\u003eversion\u003c/code\u003e\n  in \u003ccode\u003eCargo.toml\u003c/code\u003e file.\n\u003c/p\u003e\n"}},"__N_SSG":true},"page":"/notes/[...noteKey]","query":{"noteKey":["rust","Rust Infrastructure","cargo"]},"buildId":"2GsJwR2wqvvTbW19wzU3s","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>